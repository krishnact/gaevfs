<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_17) on Wed Dec 02 14:32:13 EST 2009 -->
<TITLE>
Deferred
</TITLE>

<META NAME="date" CONTENT="2009-12-02">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Deferred";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.Deferrable.html" title="interface in com.newatlanta.appengine.taskqueue"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/newatlanta/appengine/taskqueue/Deferred.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Deferred.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.newatlanta.appengine.taskqueue</FONT>
<BR>
Class Deferred</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by ">javax.servlet.GenericServlet
      <IMG SRC="../../../../resources/inherit.gif" ALT="extended by ">javax.servlet.http.HttpServlet
          <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>com.newatlanta.appengine.taskqueue.Deferred</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.io.Serializable, javax.servlet.Servlet, javax.servlet.ServletConfig</DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>Deferred</B><DT>extends javax.servlet.http.HttpServlet</DL>
</PRE>

<P>
Implements background tasks for
 <a href="http://code.google.com/appengine/docs/java/overview.html">Google App
 Engine for Java</a>, based on the
 <a href="http://code.google.com/appengine/articles/deferred.html">Python 'deferred'
 library</a>; simplifies use of the <a href="http://code.google.com/appengine/docs/java/taskqueue/overview.html">
 Task Queue Java API</a> by automatically handling the serialization and
 deserializtion of complex task arguments.
 
 <p>Background tasks are implemented via the <A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.Deferrable.html" title="interface in com.newatlanta.appengine.taskqueue"><CODE>Deferrable</CODE></A>
 interface; task logic is implemented in the <A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.Deferrable.html#doTask()"><CODE>doTask()</CODE></A>.
 Background tasks are queued for execution via the <A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.html#defer(com.newatlanta.appengine.taskqueue.Deferred.Deferrable)"><CODE>defer()</CODE></A> method and its overrides. For example:
 <pre>
 MyTask task = new MyTask(); // implements Deferrable
 Deferred.defer( task );
 </pre>
 
 <p><A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.Deferrable.html" title="interface in com.newatlanta.appengine.taskqueue"><CODE>Deferrable</CODE></A> task instances are serialized in order to be
 queued for execution. If the serialized task size exceeds 10KB, it is saved to
 the datastore and then removed prior to task execution.
 
 <p><b>Configuration</b>
 <p>There are several configuration steps that must be completed before
 background tasks can be executed. First, the deferred task handler (this
 servlet) needs to be configured within <code>web.xml</code>. There are two
 optional init parameters that are discussed below; following is the minimal
 configuration--without init parameters--required when using the default queue
 name and default task URL:
 <pre>
 &lt;servlet>
     &lt;servlet-name>Deferred&lt;/servlet-name>
     &lt;servlet-class>com.newatlanta.appengine.taskqueue.Deferred&lt;/servlet-class>
 &lt;/servlet>
 &lt;servlet-mapping>
     &lt;servlet-name>Deferred&lt;/servlet-name>
     &lt;url-pattern>/_ah/queue/deferred&lt;/url-pattern>
 &lt;/servlet-mapping>
 </pre>
 
 <p>The optional init parameters are <code>queueName</code> and
 <code>taskUrl</code>. Note that if any init parameters are specified, the
 <code>&lt;load-on-startup></code> element <b>must</b> also be specified.
 
 <p>In the following example, only the <code>queueName</code>
 is specified; note that the <code>&lt;url-pattern></code> element has also
 been modified accordingly:
 <pre>
 &lt;servlet>
     &lt;servlet-name>Deferred&lt;/servlet-name>
     &lt;servlet-class>com.newatlanta.appengine.taskqueue.Deferred&lt;/servlet-class>
     &lt;init-param>
          &lt;param-name>queueName&lt;/param-name>
          &lt;param-value>background&lt;/param-value>
     &lt;/init-param>
     &lt;load-on-startup>1&lt;/load-on-startup>
 &lt;/servlet>
 &lt;servlet-mapping>
     &lt;servlet-name>Deferred&lt;/servlet-name>
     &lt;url-pattern>/_ah/queue/background&lt;/url-pattern>
 &lt;/servlet-mapping>
 </pre>
 
 <p>In the following example, both the <code>queueName</code> and
 <code>taskUrl</code> init parameters are specified; note that the
 <code>&lt;url-pattern></code> element has been modified to match the
 <code>taskUrl</code>:
 <pre>
 &lt;servlet>
     &lt;servlet-name>Deferred&lt;/servlet-name>
     &lt;servlet-class>com.newatlanta.appengine.taskqueue.Deferred&lt;/servlet-class>
     &lt;init-param>
          &lt;param-name>queueName&lt;/param-name>
          &lt;param-value>background&lt;/param-value>
     &lt;/init-param>
     &lt;init-param>
          &lt;param-name>taskUrl&lt;/param-name>
          &lt;param-value>/worker/deferred&lt;/param-value>
     &lt;/init-param>
     &lt;load-on-startup>1&lt;/load-on-startup>
 &lt;/servlet>
 &lt;servlet-mapping>
     &lt;servlet-name>Deferred&lt;/servlet-name>
     &lt;url-pattern>/worker/deferred&lt;/url-pattern>
 &lt;/servlet-mapping>
 </pre>
 
 <p>Note that if you plan to specify the task URL via the task options
 parameter to the <A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.html#defer(com.newatlanta.appengine.taskqueue.Deferred.Deferrable, com.google.appengine.api.labs.taskqueue.TaskOptions)"><CODE>defer()</CODE></A> method, you
 must configure the task URL within a <code>&lt;url-pattern></code> element.
 
 <p>After configuring <code>web.xml</code>, the queue name must be configured
 within <code>queue.xml</code> (use whatever rate you want):
 <pre>
 &lt;queue>
     &lt;name>deferred&lt;/name>
     &lt;rate>10/s&lt;/rate>
 &lt;/queue>
 </pre>
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD><a href="mailto:vbonfanti@gmail.com">Vince Bonfanti</a></DD>
<DT><B>See Also:</B><DD><A HREF="../../../../serialized-form.html#com.newatlanta.appengine.taskqueue.Deferred">Serialized Form</A></DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;interface</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.Deferrable.html" title="interface in com.newatlanta.appengine.taskqueue">Deferred.Deferrable</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The <code>Deferrable</code> interface should be implemented by any class
 whose instances are intended to be executed as background tasks.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.PermanentTaskFailure.html" title="class in com.newatlanta.appengine.taskqueue">Deferred.PermanentTaskFailure</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If thrown by the <A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.Deferrable.html#doTask()"><CODE>doTask()</CODE></A> method, indicates
 that a background task should <b>not</b> be retried.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.html#Deferred()">Deferred</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;com.google.appengine.api.labs.taskqueue.TaskHandle</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.html#defer(com.newatlanta.appengine.taskqueue.Deferred.Deferrable)">defer</A></B>(<A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.Deferrable.html" title="interface in com.newatlanta.appengine.taskqueue">Deferred.Deferrable</A>&nbsp;task)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Queues a task for background execution using the configured or default
 queue name and the configured or default task URL.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;com.google.appengine.api.labs.taskqueue.TaskHandle</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.html#defer(com.newatlanta.appengine.taskqueue.Deferred.Deferrable, java.lang.String)">defer</A></B>(<A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.Deferrable.html" title="interface in com.newatlanta.appengine.taskqueue">Deferred.Deferrable</A>&nbsp;task,
      java.lang.String&nbsp;queueName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Queues a task for background execution using the specified queue name and
 the configured or default task URL.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;com.google.appengine.api.labs.taskqueue.TaskHandle</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.html#defer(com.newatlanta.appengine.taskqueue.Deferred.Deferrable, java.lang.String, com.google.appengine.api.labs.taskqueue.TaskOptions)">defer</A></B>(<A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.Deferrable.html" title="interface in com.newatlanta.appengine.taskqueue">Deferred.Deferrable</A>&nbsp;task,
      java.lang.String&nbsp;queueName,
      com.google.appengine.api.labs.taskqueue.TaskOptions&nbsp;taskOptions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Queue a task for background execution using the specified queue name and
 the specified task options (including the specified task URL).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;com.google.appengine.api.labs.taskqueue.TaskHandle</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.html#defer(com.newatlanta.appengine.taskqueue.Deferred.Deferrable, com.google.appengine.api.labs.taskqueue.TaskOptions)">defer</A></B>(<A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.Deferrable.html" title="interface in com.newatlanta.appengine.taskqueue">Deferred.Deferrable</A>&nbsp;task,
      com.google.appengine.api.labs.taskqueue.TaskOptions&nbsp;taskOptions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Queues a task for background execution using the configured or default
 queue name and the specified task options (including the specified task
 URL).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.html#doPost(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse)">doPost</A></B>(javax.servlet.http.HttpServletRequest&nbsp;req,
       javax.servlet.http.HttpServletResponse&nbsp;res)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Executes a background task.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.html#init()">init</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Performs initialization based on the <code>&lt;init-param></code> elements
 in <code>web.xml</code>.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_javax.servlet.http.HttpServlet"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class javax.servlet.http.HttpServlet</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>doDelete, doGet, doHead, doOptions, doPut, doTrace, getLastModified, service, service</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_javax.servlet.GenericServlet"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class javax.servlet.GenericServlet</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>destroy, getInitParameter, getInitParameterNames, getServletConfig, getServletContext, getServletInfo, getServletName, init, log, log</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="Deferred()"><!-- --></A><H3>
Deferred</H3>
<PRE>
public <B>Deferred</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="init()"><!-- --></A><H3>
init</H3>
<PRE>
public void <B>init</B>()</PRE>
<DL>
<DD>Performs initialization based on the <code>&lt;init-param></code> elements
 in <code>web.xml</code>. The following <code>&lt;init-param></code> elements
 are supported:
 <ul>
 <li><code>queueName</code> - the default task queue name, which must also
 be configured within <code>queue.xml</code>; if not specified, the default
 queue name is "deferred"</li>
 <li><code>taskUrl</code> - the URL used to invoke the task, which must be
 configured within <code>web.xml</code> as the <code>&lt;url-pattern></code>
 within a <code>&lt;servlet-mapping></code> for the <A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.html" title="class in com.newatlanta.appengine.taskqueue"><CODE>Deferred</CODE></A>
 servlet.</li>
 </ul>
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>init</CODE> in class <CODE>javax.servlet.GenericServlet</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="defer(com.newatlanta.appengine.taskqueue.Deferred.Deferrable)"><!-- --></A><H3>
defer</H3>
<PRE>
public static com.google.appengine.api.labs.taskqueue.TaskHandle <B>defer</B>(<A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.Deferrable.html" title="interface in com.newatlanta.appengine.taskqueue">Deferred.Deferrable</A>&nbsp;task)</PRE>
<DL>
<DD>Queues a task for background execution using the configured or default
 queue name and the configured or default task URL.
 
 <p>If the queue name is not configured via the <code>queueName</code>
 init parameter, uses "deferred" as the queue name.
 
 <p>If the task URL is not configured via the <code>taskUrl</code> init
 parameter, uses the default task URL, which takes the form:
 <blockquote>
 <code>/_ah/queue/<i>&lt;queue name></i></code>
 </blockquote>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>task</CODE> - The task to be executed.
<DT><B>Returns:</B><DD>A <CODE>TaskHandle</CODE> for the queued task.
<DT><B>Throws:</B>
<DD><CODE>com.google.appengine.api.labs.taskqueue.QueueFailureException</CODE> - If an error occurs serializing the task.</DL>
</DD>
</DL>
<HR>

<A NAME="defer(com.newatlanta.appengine.taskqueue.Deferred.Deferrable, java.lang.String)"><!-- --></A><H3>
defer</H3>
<PRE>
public static com.google.appengine.api.labs.taskqueue.TaskHandle <B>defer</B>(<A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.Deferrable.html" title="interface in com.newatlanta.appengine.taskqueue">Deferred.Deferrable</A>&nbsp;task,
                                                                       java.lang.String&nbsp;queueName)</PRE>
<DL>
<DD>Queues a task for background execution using the specified queue name and
 the configured or default task URL.
 
 <p>If the task URL is not configured via the <code>taskUrl</code> init
 parameter, uses the default task URL, which takes the form:
 <blockquote>
 <code>/_ah/queue/<i>&lt;queue name></i></code>
 </blockquote>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>task</CODE> - The task to be executed.<DD><CODE>queueName</CODE> - The name of the queue.
<DT><B>Returns:</B><DD>A <CODE>TaskHandle</CODE> for the queued task.
<DT><B>Throws:</B>
<DD><CODE>com.google.appengine.api.labs.taskqueue.QueueFailureException</CODE> - If an error occurs serializing the task.</DL>
</DD>
</DL>
<HR>

<A NAME="defer(com.newatlanta.appengine.taskqueue.Deferred.Deferrable, com.google.appengine.api.labs.taskqueue.TaskOptions)"><!-- --></A><H3>
defer</H3>
<PRE>
public static com.google.appengine.api.labs.taskqueue.TaskHandle <B>defer</B>(<A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.Deferrable.html" title="interface in com.newatlanta.appengine.taskqueue">Deferred.Deferrable</A>&nbsp;task,
                                                                       com.google.appengine.api.labs.taskqueue.TaskOptions&nbsp;taskOptions)</PRE>
<DL>
<DD>Queues a task for background execution using the configured or default
 queue name and the specified task options (including the specified task
 URL).
 
 <p>If the queue name is not configured via the <code>queueName</code>
 init parameter, uses "deferred" as the queue name.
 
 <p>If the task URL is not specified in the task options, the
 default task URL is used, even if a task URL is configured via the
 <code>taskUrl</code> init parameter. The default task URL takes the form:
 <blockquote>
 <code>/_ah/queue/<i>&lt;queue name></i></code>
 </blockquote>
 
 <p>The following task options may be specified:
 <ul>
 <li><code>countdownMillis</code></li>
 <li><code>etaMillis</code></li>
 <li><code>taskName</code></li>
 <li><code>url</code></li>
 </ul>
 
 <p>The following task options are ignored:
 <ul>
 <li><code>header</code></li>
 <li><code>headers</code></li>
 <li><code>method</code></li>
 <li><code>payload</code></li>
 </ul>
 
 <p>The following task options will throw an <CODE>IllegalArgumentException</CODE>
 if specified:
 <ul>
 <li><code>param</code></li>
 </ul>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>task</CODE> - The task to be executed.<DD><CODE>taskOptions</CODE> - The task options.
<DT><B>Returns:</B><DD>A <CODE>TaskHandle</CODE> for the queued task.
<DT><B>Throws:</B>
<DD><CODE>com.google.appengine.api.labs.taskqueue.QueueFailureException</CODE> - If an error occurs serializing the task.
<DD><CODE>java.lang.IllegalArgumentException</CODE> - If any <code>param</code> task options
 are specified.</DL>
</DD>
</DL>
<HR>

<A NAME="defer(com.newatlanta.appengine.taskqueue.Deferred.Deferrable, java.lang.String, com.google.appengine.api.labs.taskqueue.TaskOptions)"><!-- --></A><H3>
defer</H3>
<PRE>
public static com.google.appengine.api.labs.taskqueue.TaskHandle <B>defer</B>(<A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.Deferrable.html" title="interface in com.newatlanta.appengine.taskqueue">Deferred.Deferrable</A>&nbsp;task,
                                                                       java.lang.String&nbsp;queueName,
                                                                       com.google.appengine.api.labs.taskqueue.TaskOptions&nbsp;taskOptions)</PRE>
<DL>
<DD>Queue a task for background execution using the specified queue name and
 the specified task options (including the specified task URL).
 
 <p>If the task URL is not specified in the task options, the
 default task URL is used, even if a task URL is configured via the
 <code>taskUrl</code> init parameter. The default task URL takes the form:
 <blockquote>
 <code>/_ah/queue/<i>&lt;queue name></i></code>
 </blockquote>
 
 <p>The following task options may be specified:
 <ul>
 <li><code>countdownMillis</code></li>
 <li><code>etaMillis</code></li>
 <li><code>taskName</code></li>
 <li><code>url</code></li>
 </ul>
 
 <p>The following task options are ignored:
 <ul>
 <li><code>header</code></li>
 <li><code>headers</code></li>
 <li><code>method</code></li>
 <li><code>payload</code></li>
 </ul>
 
 <p>The following task options will throw an <CODE>IllegalArgumentException</CODE>
 if specified:
 <ul>
 <li><code>param</code></li>
 </ul>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>task</CODE> - The task to be executed.<DD><CODE>taskOptions</CODE> - The task options.
<DT><B>Returns:</B><DD>A <CODE>TaskHandle</CODE> for the queued task.
<DT><B>Throws:</B>
<DD><CODE>com.google.appengine.api.labs.taskqueue.QueueFailureException</CODE> - If an error occurs serializing the task.
<DD><CODE>java.lang.IllegalArgumentException</CODE> - If any <code>param</code> task options
 are specified.</DL>
</DD>
</DL>
<HR>

<A NAME="doPost(javax.servlet.http.HttpServletRequest, javax.servlet.http.HttpServletResponse)"><!-- --></A><H3>
doPost</H3>
<PRE>
public void <B>doPost</B>(javax.servlet.http.HttpServletRequest&nbsp;req,
                   javax.servlet.http.HttpServletResponse&nbsp;res)
            throws javax.servlet.ServletException,
                   java.io.IOException</PRE>
<DL>
<DD>Executes a background task.
 
 The task payload is either type Deferrable or Key; in the latter case,
 retrieve (then delete) the Deferrable instance from the datastore.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>doPost</CODE> in class <CODE>javax.servlet.http.HttpServlet</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>javax.servlet.ServletException</CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../com/newatlanta/appengine/taskqueue/Deferred.Deferrable.html" title="interface in com.newatlanta.appengine.taskqueue"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/newatlanta/appengine/taskqueue/Deferred.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Deferred.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
